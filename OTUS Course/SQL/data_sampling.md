## Задание

### Определить стоимость доставки:
- для книг стоимостью 500 и менее, установить в размере 99,99
- при количестве книг на складе менее 5, установить в размере 149.99
- для остальных случаев доставка должна быть бесплатной
### Определить новую стоимость для книг:
- для книг, совокупной стоимостью более 5000, добавить 20% к стоимости за экземпляр
- для остальных случаев снизить стоимость одного экземпляра на 20%
### Настроить фильтр при выборке:
- только позиции творчества авторов: Булгаков и Есенин, при количестве экземпляров на складе: от 3 до 14 включительно.
### Сортировку выполнить:
- по имени автора в порядке возрастания
- затем по названию в порядке убывания
- по стоимости доставки (от меньшей к большей)
### В таблице должны быть отображены данные:
- автора
- название
- цену, как real_price
- количество
- новую цену, как new_price
- стоимость доставки, как delivery_price

**Структура и наполнение таблицы book**:
| book_id | title                 | author           | price  | amount |
+---------+-----------------------+------------------+--------+--------+
| 1       | Мастер и Маргарита    | Булгаков М.А.    | 670.99 | 3      |
| 2       | Белая гвардия         | Булгаков М.А.    | 540.50 | 5      |
| 3       | Идиот                 | Достоевский Ф.М. | 460.00 | 10     |
| 4       | Братья Карамазовы     | Достоевский Ф.М. | 799.01 | 2      |
| 5       | Стихотворения и поэмы | Есенин С.А.      | 650.00 | 15     |

SQL request:
```SQL SELECT author, title, price AS real_price, amount,
ROUND (IF (price * amount > 5000, price * 1.2, price * 0.8), 2) AS new_price,
IF (price <= 500,  99.99, IF (amount < 5, 149.99, 0.00)) AS delivery_price
FROM book
WHERE author IN ('Булгаков М.А.', 'Есенин С.А.') AND amount BETWEEN 3 AND 14
ORDER BY author, title DESC, delivery_price
```

Query result:
| author        | title              | real_price | amount | new_price | delivery_price |
+---------------+--------------------+------------+--------+-----------+----------------+
| Булгаков М.А. | Мастер и Маргарита | 670.99     | 3      | 536.79    | 149.99         |
| Булгаков М.А. | Белая гвардия      | 540.50     | 5      | 432.40    | 0.00           |

